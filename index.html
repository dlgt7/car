<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ±½è½¦éšè—ç¼–ç æŸ¥è¯¢å·¥å…· - 2025ä¼˜åŒ–ç‰ˆ</title>
    <style>
        body { font-family: "Microsoft YaHei", "Segoe UI", Arial, sans-serif; margin: 20px; background: #f0f2f5; color: #333; }
        h1 { text-align: center; color: #2c3e50; margin-bottom: 10px; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        .desc { text-align: center; color: #7f8c8d; margin-bottom: 25px; font-size: 14px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; color: #34495e; }
        input, select { width: 100%; padding: 12px; font-size: 16px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; transition: border-color 0.3s; }
        input:focus, select:focus { border-color: #3498db; outline: none; }
        button { width: 100%; margin-top: 10px; padding: 14px; background: #3498db; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 16px; font-weight: bold; transition: background 0.3s; }
        button:hover { background: #2980b9; }
        #result { margin-top: 25px; padding: 20px; background: #e8f7f5; border: 1px solid #bcece0; border-radius: 8px; display: none; }
        #result strong { color: #16a085; font-size: 18px; display: block; margin-bottom: 10px; }
        .tip { font-size: 13px; color: #7f8c8d; margin-top: 20px; background: #f8f9fa; padding: 15px; border-radius: 6px; line-height: 1.6; }
        .highlight { color: #e74c3c; font-weight: bold; }
        .copy-btn { margin-top: 10px; padding: 8px 16px; background: #27ae60; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; }
        .copy-btn:hover { background: #219653; }
    </style>
</head>
<body>
    <div class="container">
        <h1>æ±½è½¦éšè—ç¼–ç æŸ¥è¯¢å·¥å…·</h1>
        <p class="desc">è¾“å…¥ç¼–ç åç‚¹å‡»â€œæŸ¥è¯¢â€ï¼Œè‡ªåŠ¨è§£è¯» VINã€è½®èƒ DOTã€ç»ç’ƒ/ç¯å…·ã€å‘åŠ¨æœºå·ç­‰ï¼ˆ2025å¹´æœ€æ–°ç‰ˆï¼‰</p>
        
        <div class="form-group">
            <label for="code">è¾“å…¥ç¼–ç ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ï¼š</label>
            <input type="text" id="code" placeholder="ä¾‹å¦‚ï¼šLZWABG0D0X1234567ã€3523ã€DOT 2523ã€å‘åŠ¨æœºå·ç­‰" onkeypress="handleEnter(event)">
        </div>
        <div class="form-group">
            <label for="type">ç¼–ç ç±»å‹ï¼ˆå»ºè®®é»˜è®¤ï¼‰ï¼š</label>
            <select id="type">
                <option value="auto">ğŸ” è‡ªåŠ¨è¯†åˆ« (æ¨è)</option>
                <option value="vin">VIN è½¦æ¶å· (17ä½)</option>
                <option value="dot_tire">DOT è½®èƒå· (4ä½æ•°å­—)</option>
                <option value="dot_glass">DOT ç»ç’ƒ/ç¯å…·å·</option>
                <option value="engine">å‘åŠ¨æœº/å˜é€Ÿç®±å·</option>
                <option value="battery">è“„ç”µæ± å·</option>
                <option value="belt">å®‰å…¨å¸¦/æ°”å›Šå·</option>
            </select>
        </div>
        <button onclick="decode()">ç«‹å³æŸ¥è¯¢</button>
        
        <div id="result"></div>
        
        <div class="tip">
            <strong>ğŸ’¡ éªŒè½¦å®ç”¨æŠ€å·§ï¼š</strong><br>
            1. <strong>æ¯”å¯¹åŸåˆ™ï¼š</strong> ç»ç’ƒã€è½®èƒã€å®‰å…¨å¸¦çš„ç”Ÿäº§æ—¥æœŸåº”<span class="highlight">æ—©äº</span>æ•´è½¦å‡ºå‚æ—¥æœŸï¼ˆBæŸ±é“­ç‰Œï¼‰ã€‚<br>
            2. <strong>æ–°è½¦æ­£å¸¸æƒ…å†µï¼š</strong> è½®èƒ/ç»ç’ƒæ—¥æœŸé€šå¸¸æ¯”æ•´è½¦æ—¥æœŸæ—©1-6ä¸ªæœˆã€‚<br>
            3. <strong>è­¦æƒ•ä¿¡å·ï¼š</strong> æŸéƒ¨ä»¶æ—¥æœŸæ˜æ˜¾æ™šäºæ•´è½¦æ—¥æœŸï¼Œå¤šä¸ºäº‹æ•…æ›´æ¢ä»¶ã€‚<br>
            4. <strong>æŸ¥éªŒé¡ºåºå»ºè®®ï¼š</strong> æŒ¡é£ç»ç’ƒ VIN â†’ BæŸ±é“­ç‰Œ â†’ 4æ¡è½®èƒ â†’ å…¨è½¦ç»ç’ƒ â†’ å®‰å…¨å¸¦åº•éƒ¨æ ‡ç­¾ â†’ å‘åŠ¨æœºå·ã€‚
        </div>
    </div>

    <script>
        function handleEnter(e) {
            if (e.key === 'Enter') decode();
        }

        function decode() {
            let input = document.getElementById('code').value.trim().toUpperCase();
            let type = document.getElementById('type').value;
            let resultDiv = document.getElementById('result');

            resultDiv.innerHTML = '';
            resultDiv.style.display = 'none';

            if (!input) {
                alert("è¯·è¾“å…¥ç¼–ç ï¼");
                return;
            }

            // è‡ªåŠ¨è¯†åˆ«é€»è¾‘ï¼ˆæ›´å‡†ç¡®ï¼‰
            if (type === 'auto') {
                if (input.length === 17 && /^[A-HJ-NPR-Z0-9]{17}$/.test(input)) { // VIN æ ‡å‡†å­—ç¬¦æ ¡éªŒï¼ˆä¸å«I,O,Qï¼‰
                    type = 'vin';
                } else if (input.match(/^\d{4}$/) && parseInt(input.substring(0,2)) >= 1 && parseInt(input.substring(0,2)) <= 53) {
                    type = 'dot_tire';
                } else if (input.includes('DOT') || input.includes('.') || input.match(/^\d{1,2}$/) || input.match(/^\d+\s*\.+\s*\d+$/)) {
                    type = 'dot_glass';
                } else if (input.length >= 5 && /^[A-Z0-9]+$/.test(input)) {
                    type = 'engine';
                } else {
                    type = 'other';
                }
            }

            let output = '<strong>âœ… æŸ¥è¯¢ç»“æœï¼š</strong>';
            let details = '';

            switch (type) {
                case 'vin': {
                    if (input.length !== 17) {
                        details = `<span style="color:red">é”™è¯¯ï¼šVIN å¿…é¡»æ˜¯ 17 ä½å­—ç¬¦ï¼Œæ‚¨è¾“å…¥äº† ${input.length} ä½ã€‚</span>`;
                        break;
                    }
                    if (!/^[A-HJ-NPR-Z0-9]{17}$/.test(input)) {
                        details = `<span style="color:red">VIN åŒ…å«éæ³•å­—ç¬¦ï¼ˆä¸å…è®¸ Iã€Oã€Qï¼‰ã€‚</span>`;
                        break;
                    }

                    let wmi = input.substring(0,3);
                    let vds = input.substring(3,9);
                    let yearChar = input[9];
                    let plant = input[10];
                    let serial = input.substring(11);

                    // 2025å¹´å®Œæ•´å¹´ä»½è¡¨ï¼ˆæ¯30å¹´å¾ªç¯ï¼‰
                    const yearMap = {
                        '1': '2001 (æˆ– 1971)', '2': '2002 (æˆ– 1972)', '3': '2003 (æˆ– 1973)', '4': '2004 (æˆ– 1974)',
                        '5': '2005 (æˆ– 1975)', '6': '2006 (æˆ– 1976)', '7': '2007 (æˆ– 1977)', '8': '2008 (æˆ– 1978)',
                        '9': '2009 (æˆ– 1979)', 'A': '2010 (æˆ– 1980)', 'B': '2011 (æˆ– 1981)', 'C': '2012 (æˆ– 1982)',
                        'D': '2013 (æˆ– 1983)', 'E': '2014 (æˆ– 1984)', 'F': '2015 (æˆ– 1985)', 'G': '2016 (æˆ– 1986)',
                        'H': '2017 (æˆ– 1987)', 'J': '2018 (æˆ– 1988)', 'K': '2019 (æˆ– 1989)', 'L': '2020 (æˆ– 1990)',
                        'M': '2021 (æˆ– 1991)', 'N': '2022 (æˆ– 1992)', 'P': '2023 (æˆ– 1993)', 'R': '2024 (æˆ– 1994)',
                        'S': '2025 (æˆ– 1995)', 'T': '2026 (æˆ– 1996)', 'V': '2027 (æˆ– 1997)', 'W': '2028 (æˆ– 1998)',
                        'X': '2029 (æˆ– 1999)', 'Y': '2030 (æˆ– 2000)'
                    };

                    let yearStr = yearMap[yearChar] || '<span style="color:red">æœªçŸ¥å¹´ä»½ï¼ˆVIN ç¬¬10ä½ä¸åº”ä¸º Iã€Oã€Qã€Zã€0ï¼‰</span>';

                    details = `
                        <ul>
                            <li><strong>ç”Ÿäº§å¹´ä»½ (ç¬¬10ä½)ï¼š</strong> <span style="color:#2980b9;font-size:1.2em">${yearStr}</span></li>
                            <li><strong>å‚å®¶ä»£ç  (å‰3ä½)ï¼š</strong> ${wmi}</li>
                            <li><strong>è£…é…å‚ä»£ç  (ç¬¬11ä½)ï¼š</strong> ${plant}</li>
                            <li><strong>ç”Ÿäº§åºåˆ—å· (å6ä½)ï¼š</strong> ${serial}</li>
                        </ul>
                        <div style="font-size:12px; color:#666; margin-top:8px;">
                            æ³¨ï¼šVIN å¹´ä»½é€šå¸¸æŒ‡â€œå¹´æ¬¾â€ï¼Œå®é™…å‡ºå‚æ—¶é—´å¯èƒ½ä¸ºè¯¥å¹´ä»½å‰åŠå¹´æˆ–ååŠå¹´ã€‚
                        </div>
                    `;
                    break;
                }

                case 'dot_tire': {
                    let cleanInput = input.replace(/[^0-9]/g, '');
                    if (cleanInput.length > 4) cleanInput = cleanInput.slice(-4);
                    if (!cleanInput.match(/^\d{4}$/)) {
                        details = 'æ— æ³•è¯†åˆ«ã€‚è¯·ç›´æ¥è¾“å…¥è½®èƒä¾§é¢æ¤­åœ†æ¡†å†…çš„4ä½æ•°å­—ï¼ˆå¦‚ 3523ï¼‰ã€‚';
                        break;
                    }
                    let week = parseInt(cleanInput.substring(0,2));
                    let yr = parseInt(cleanInput.substring(2));

                    if (week < 1 || week > 53) {
                        details = `<span style="color:red">å‘¨æ•° ${week} ä¸åˆç†ï¼ˆåº”ä¸º 01-53ï¼‰</span>`;
                        break;
                    }

                    // æ™ºèƒ½æ¨æ–­å¹´ä»½ï¼šä¼˜å…ˆæœ€è¿‘30å¹´
                    let fullYear = (yr < 30) ? 2000 + yr : (yr < 50 ? 1900 + yr : 2000 + yr);

                    details = `
                        <ul>
                            <li><strong>ç”Ÿäº§æ—¶é—´ï¼š</strong> <span style="color:#2980b9;font-size:1.2em">${fullYear} å¹´ ç¬¬ ${week} å‘¨</span></li>
                            <li><strong>å¤§æ¦‚æœˆä»½ï¼š</strong> ${Math.ceil(week * 7 / 30)} æœˆå·¦å³</li>
                            <li><strong>ç¼–ç è§£é‡Šï¼š</strong> å‰ä¸¤ä½ ${cleanInput.substring(0,2)} ä¸ºå‘¨æ•°ï¼Œåä¸¤ä½ ${cleanInput.substring(2)} ä¸ºå¹´ä»½ï¼ˆè‡ªåŠ¨æ¨æ–­ä¸ºæœ€è¿‘30å¹´ï¼‰ã€‚</li>
                        </ul>
                    `;
                    break;
                }

                case 'dot_glass': {
                    details = `
                        <strong>ç»ç’ƒ/è½¦ç¯æ—¥æœŸå¸¸ç”¨â€œé»‘ç‚¹æ³•â€ï¼š</strong><br><br>
                        1. <strong>åªæœ‰ä¸€ä¸ªæ•°å­—ï¼ˆå¦‚ 8ï¼‰ï¼š</strong> è¡¨ç¤ºå¹´ä»½æœ€åä¸€ä½ï¼ˆ2008/2018/2028ï¼‰ã€‚<br><br>
                        2. <strong>æ•°å­— + å°é»‘ç‚¹ï¼š</strong>
                        <ul>
                            <li>é»‘ç‚¹åœ¨æ•°å­—å·¦ä¾§ï¼ˆå·¦è¾¹ï¼‰ï¼šæœˆä»½ = 7 - é»‘ç‚¹æ•°é‡ï¼ˆ1-6æœˆï¼‰</li>
                            <li>é»‘ç‚¹åœ¨æ•°å­—å³ä¾§ï¼ˆå³è¾¹ï¼‰ï¼šæœˆä»½ = 13 - é»‘ç‚¹æ•°é‡ï¼ˆ7-12æœˆï¼‰</li>
                        </ul>
                        <em>ç¤ºä¾‹ï¼š</em><br>
                        â€¢ 8ï¼ˆå·¦è¾¹3ä¸ªç‚¹ï¼‰â†’ 2018å¹´4æœˆ<br>
                        â€¢ 8ï¼ˆå³è¾¹5ä¸ªç‚¹ï¼‰â†’ 2018å¹´8æœˆ<br>
                        â€¢ 5ï¼ˆå·¦è¾¹1ä¸ªç‚¹ï¼‰â†’ 2025å¹´6æœˆ<br><br>
                        <strong>å…¶ä»–å¸¸è§æ–¹å¼ï¼š</strong> æœ‰äº›å‚å®¶ç›´æ¥ç”¨ä¸¤ä½æ•°å­—ï¼ˆå¦‚ 2310 è¡¨ç¤º 2023å¹´10æœˆï¼‰ã€‚<br>
                        å»ºè®®æ‹ç…§æœç´¢ç»ç’ƒå‚å®¶å‹å·ï¼Œæˆ–å’¨è¯¢4Såº—ç¡®è®¤ã€‚
                    `;
                    break;
                }

                case 'engine':
                case 'battery':
                case 'belt':
                default: {
                    details = `
                        <strong>é€šç”¨é›¶ä»¶ï¼ˆå‘åŠ¨æœºã€ç”µæ± ã€å®‰å…¨å¸¦ã€æ°”å›Šç­‰ï¼‰è§£ç æŠ€å·§ï¼š</strong><br><br>
                        1. ç›´æ¥æ‰¾æ—¥æœŸæ ¼å¼ï¼šDD/MM/YYã€YYYYMMDDã€YYMMDD ç­‰ã€‚<br>
                        2. å‘¨/å¹´ç»„åˆï¼šå¦‚ 35/23 è¡¨ç¤º 2023å¹´ç¬¬35å‘¨ã€‚<br>
                        3. ç”µæ± å¸¸è§è§„å¾‹ï¼šç¼–ç ç¬¬ä¸€ä½æˆ–æœ€åå‡ ä½åŒ…å«å¹´ä»½ï¼ˆå¦‚ 5 è¡¨ç¤º 2025ï¼‰ã€‚<br>
                        4. å®‰å…¨å¸¦/æ°”å›Šï¼šé€šå¸¸æœ‰ç”Ÿäº§æ—¥æœŸæ ‡ç­¾ï¼Œæ—¥æœŸåº”æ—©äºæ•´è½¦ã€‚<br><br>
                        <strong>å»ºè®®ï¼š</strong> å°†é›¶ä»¶å·æ‹ç…§ååœ¨æ·˜å®/äº¬ä¸œæœç´¢ï¼Œå•†å“è¯¦æƒ…é¡µé€šå¸¸æœ‰è¯¦ç»†è§£ç è¯´æ˜ã€‚
                    `;
                }
            }

            resultDiv.innerHTML = output + details + 
                '<button class="copy-btn" onclick="copyResult()">å¤åˆ¶ç»“æœ</button>';
            resultDiv.style.display = 'block';
        }

        function copyResult() {
            const resultText = document.getElementById('result').innerText;
            navigator.clipboard.writeText(resultText).then(() => {
                alert('ç»“æœå·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            }).catch(() => {
                alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰ä¸­å¤åˆ¶');
            });
        }
    </script>
</body>
</html>
